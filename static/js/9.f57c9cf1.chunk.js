(this.webpackJsonpepic=this.webpackJsonpepic||[]).push([[9],{251:function(e,t,r){"use strict";r.r(t);var n,c,i,s,a=r(0),d=r(77),l=r(74),j=r(241),h=r(30),b=r(18),u=r(247),o=r(92),g=r(150),O=r(253),x=r(27),p=r(5),f=u.a.Dragger,m=x.a.div(n||(n=Object(h.a)(["\n  margin-top: 30px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n"]))),v=x.a.h1(c||(c=Object(h.a)(["\n  margin: 20px 0;\n  text-align: center;\n"]))),w=x.a.img(i||(i=Object(h.a)(["\n  max-width: 300px;\n"]))),F=Object(d.a)((function(){var e,t=Object(l.a)(),r=t.ImageStore,n=t.UserStore,c=null===(e=r.serverFile)||void 0===e?void 0:e.attributes.url.attributes.url,i=Object(b.d)((function(){return{width:"",height:"",get getWidth(){return i.width?"/w/".concat(i.width):""},setWidth:function(e){i.width=e},get getHeight(){return i.height?"/h/".concat(i.height):""},setHeight:function(e){i.height=e},get allAddress(){var e;return(null===(e=r.serverFile)||void 0===e?void 0:e.attributes.url.attributes.url)+"?imageView2/0"+i.getWidth+i.getHeight}}})),s=Object(a.useRef)(null),d=Object(a.useRef)(null),h={beforeUpload:function(e){return r.setFile(e),r.setFileName(e.name),console.log(e),null===n.currentUser?(o.b.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\uff01"),!1):/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/gi.test(e.name)?e.size>1048576?(o.b.error("\u53ea\u80fd\u4e0a\u4f20\u6700\u59271M\u7684\u56fe\u7247"),!1):(r.upload().then((function(){return o.b.success("\u4e0a\u4f20\u6210\u529f")})).catch((function(){return o.b.error("\u4e0a\u4f20\u5931\u8d25")})),!1):(o.b.error("\u53ea\u80fd\u4e0a\u4f20\u56fe\u7247"),!1)},showUploadList:!1};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(g.a,{tip:"\u4e0a\u4f20\u4e2d...",spinning:r.isUploading,children:Object(p.jsxs)(f,Object(j.a)(Object(j.a)({},h),{},{children:[Object(p.jsx)("p",{className:"ant-upload-drag-icon",children:Object(p.jsx)(O.a,{})}),Object(p.jsx)("p",{className:"ant-upload-text",children:"\u5355\u51fb\u6216\u62d6\u52a8\u5230\u6b64\u533a\u57df\u4e0a\u4f20"}),Object(p.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u63011M\u4ee5\u4e0b\u7684png,jpg,jpeg,gif\u683c\u5f0f\u56fe\u7247"})]}))}),r.serverFile?Object(p.jsxs)(m,{children:[Object(p.jsx)(v,{children:"\u4e0a\u4f20\u7ed3\u679c"}),Object(p.jsxs)("dl",{children:[Object(p.jsx)("dt",{children:"\u7ebf\u4e0a\u5730\u5740"}),Object(p.jsx)("dd",{children:Object(p.jsx)("a",{target:"_blank",href:c,children:c})}),Object(p.jsx)("dt",{children:"\u6587\u4ef6\u540d"}),Object(p.jsx)("dd",{children:r.fileName}),Object(p.jsx)("dt",{children:"\u56fe\u7247\u9884\u89c8"}),Object(p.jsx)("dd",{children:Object(p.jsx)(w,{src:c})}),Object(p.jsx)("dt",{children:"\u66f4\u6539\u5c3a\u5bf8"}),Object(p.jsxs)("dd",{children:[Object(p.jsx)("input",{ref:s,placeholder:"\u6700\u5927\u5bbd\u5ea6(\u53ef\u9009)",onChange:function(){console.log("bindWidthChange..."),console.log(s.current?s.current.value:""),s.current&&i.setWidth(s.current.value)}}),Object(p.jsx)("input",{ref:d,placeholder:"\u6700\u5927\u9ad8\u5ea6(\u53ef\u9009)",onChange:function(){d.current&&i.setHeight(d.current.value)}})]}),Object(p.jsx)("dt",{children:"\u9884\u89c8\u5730\u5740"}),Object(p.jsxs)("dd",{children:["\b",Object(p.jsx)("a",{target:"_black",href:i.allAddress,children:i.allAddress})," "]})]})]}):null]})})),U=x.a.div(s||(s=Object(h.a)(["\n  background: orange;\n  padding: 10px;\n  margin: 30px 0;\n  border-radius: 4px;\n  color: white;\n"]))),k=Object(d.a)((function(e){var t=e.children,r=Object(l.a)().UserStore;return Object(p.jsx)(p.Fragment,{children:r.currentUser?null:Object(p.jsx)(U,{children:t})})})),N=Object(d.a)((function(){var e=Object(l.a)().UserStore;return Object(p.jsxs)(p.Fragment,{children:[e.currentUser?Object(p.jsx)(p.Fragment,{}):Object(p.jsx)(k,{children:"\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20"}),Object(p.jsx)(F,{})]})}));t.default=N}}]);
//# sourceMappingURL=9.f57c9cf1.chunk.js.map